{"ast":null,"code":"const ADD_POST = 'ADD_POST';\nconst ADD_LIKE = 'ADD_LIKE';\nconst CHANGE_NEW_POST_TEXT = 'CHANGE_NEW_POST_TEXT';\nlet store = {\n  _notifySubscriber() {\n    console.log('no subscriber');\n  },\n\n  subscribe(subscriber) {\n    this._notifySubscriber = subscriber;\n  },\n\n  _state: {\n    postState: {\n      posts: [{\n        id: 0,\n        text: \"Hello, my dear friend!\",\n        likes: 5\n      }, {\n        id: 1,\n        text: \"Hello, How are You?\",\n        likes: 10\n      }, {\n        id: 2,\n        text: \"Wow\",\n        likes: 0\n      }],\n      newPostText: \"\"\n    },\n    dialogState: {\n      dialogs: [],\n      messanges: [],\n      newMessageTexs: \"\"\n    }\n  },\n\n  getState() {\n    return this._state;\n  },\n\n  dispatch(action) {\n    switch (action.type) {\n      case ADD_POST:\n        let post = {\n          id: this._state.posts.length,\n          text: this._state.newPostText,\n          likes: 0\n        };\n\n        this._state.posts.push(post);\n\n        break;\n\n      case ADD_LIKE:\n        this._state.posts[action.id].likes++;\n        break;\n\n      case CHANGE_NEW_POST_TEXT:\n        this._state.newPostText = action.text;\n        break;\n\n      default:\n        break;\n    }\n\n    this._notifySubscriber();\n  }\n\n};\nexport default store;\nexport const addPostActionCreator = () => {\n  return {\n    type: ADD_POST\n  };\n};\nexport const addLikeActionCreator = id => {\n  return {\n    type: ADD_LIKE,\n    id: id\n  };\n};\nexport const newPostTextActionCreator = text => {\n  return {\n    type: CHANGE_NEW_POST_TEXT,\n    text: text\n  };\n};","map":{"version":3,"sources":["D:/Projects/robodu/src/redux/store.js"],"names":["ADD_POST","ADD_LIKE","CHANGE_NEW_POST_TEXT","store","_notifySubscriber","console","log","subscribe","subscriber","_state","postState","posts","id","text","likes","newPostText","dialogState","dialogs","messanges","newMessageTexs","getState","dispatch","action","type","post","length","push","addPostActionCreator","addLikeActionCreator","newPostTextActionCreator"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,UAAjB;AACA,MAAMC,QAAQ,GAAG,UAAjB;AACA,MAAMC,oBAAoB,GAAG,sBAA7B;AAEA,IAAIC,KAAK,GAAG;AAEZC,EAAAA,iBAAiB,GAAG;AAChBC,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACH,GAJW;;AAMZC,EAAAA,SAAS,CAACC,UAAD,EAAa;AAClB,SAAKJ,iBAAL,GAAyBI,UAAzB;AACH,GARW;;AAUZC,EAAAA,MAAM,EAAE;AACJC,IAAAA,SAAS,EAAE;AACPC,MAAAA,KAAK,EAAE,CACH;AAACC,QAAAA,EAAE,EAAC,CAAJ;AAAOC,QAAAA,IAAI,EAAC,wBAAZ;AAAsCC,QAAAA,KAAK,EAAE;AAA7C,OADG,EAEH;AAACF,QAAAA,EAAE,EAAC,CAAJ;AAAOC,QAAAA,IAAI,EAAC,qBAAZ;AAAmCC,QAAAA,KAAK,EAAE;AAA1C,OAFG,EAGH;AAACF,QAAAA,EAAE,EAAC,CAAJ;AAAOC,QAAAA,IAAI,EAAC,KAAZ;AAAmBC,QAAAA,KAAK,EAAE;AAA1B,OAHG,CADA;AAMPC,MAAAA,WAAW,EAAE;AANN,KADP;AASJC,IAAAA,WAAW,EAAE;AACTC,MAAAA,OAAO,EAAE,EADA;AAETC,MAAAA,SAAS,EAAE,EAFF;AAGTC,MAAAA,cAAc,EAAC;AAHN;AATT,GAVI;;AA0BZC,EAAAA,QAAQ,GAAG;AACP,WAAO,KAAKX,MAAZ;AACH,GA5BW;;AA8BZY,EAAAA,QAAQ,CAACC,MAAD,EAAS;AACb,YAAOA,MAAM,CAACC,IAAd;AACI,WAAKvB,QAAL;AACI,YAAIwB,IAAI,GAAG;AACPZ,UAAAA,EAAE,EAAE,KAAKH,MAAL,CAAYE,KAAZ,CAAkBc,MADf;AAEPZ,UAAAA,IAAI,EAAE,KAAKJ,MAAL,CAAYM,WAFX;AAGPD,UAAAA,KAAK,EAAE;AAHA,SAAX;;AAKA,aAAKL,MAAL,CAAYE,KAAZ,CAAkBe,IAAlB,CAAuBF,IAAvB;;AACA;;AAEJ,WAAKvB,QAAL;AACI,aAAKQ,MAAL,CAAYE,KAAZ,CAAkBW,MAAM,CAACV,EAAzB,EAA6BE,KAA7B;AACA;;AAEJ,WAAKZ,oBAAL;AACI,aAAKO,MAAL,CAAYM,WAAZ,GAA0BO,MAAM,CAACT,IAAjC;AACA;;AAEJ;AACI;AAnBR;;AAqBA,SAAKT,iBAAL;AACH;;AArDW,CAAZ;AAwDA,eAAeD,KAAf;AAGA,OAAO,MAAMwB,oBAAoB,GAAG,MAAM;AACtC,SAAO;AAAEJ,IAAAA,IAAI,EAAEvB;AAAR,GAAP;AACH,CAFM;AAIP,OAAO,MAAM4B,oBAAoB,GAAIhB,EAAD,IAAQ;AACxC,SAAO;AAAEW,IAAAA,IAAI,EAAEtB,QAAR;AAAkBW,IAAAA,EAAE,EAAEA;AAAtB,GAAP;AACH,CAFM;AAIP,OAAO,MAAMiB,wBAAwB,GAAIhB,IAAD,IAAU;AAC9C,SAAO;AAAEU,IAAAA,IAAI,EAAErB,oBAAR;AAA8BW,IAAAA,IAAI,EAAEA;AAApC,GAAP;AACH,CAFM","sourcesContent":["const ADD_POST = 'ADD_POST';\r\nconst ADD_LIKE = 'ADD_LIKE';\r\nconst CHANGE_NEW_POST_TEXT = 'CHANGE_NEW_POST_TEXT';\r\n\r\nlet store = {\r\n\r\n_notifySubscriber() {\r\n    console.log('no subscriber')\r\n},\r\n\r\nsubscribe(subscriber) {\r\n    this._notifySubscriber = subscriber;\r\n},\r\n\r\n_state: {\r\n    postState: {\r\n        posts: [\r\n            {id:0, text:\"Hello, my dear friend!\", likes: 5},\r\n            {id:1, text:\"Hello, How are You?\", likes: 10},\r\n            {id:2, text:\"Wow\", likes: 0}\r\n        ],\r\n        newPostText: \"\"\r\n    },\r\n    dialogState: {\r\n        dialogs: [],\r\n        messanges: [],\r\n        newMessageTexs:\"\"\r\n    }\r\n},\r\n\r\ngetState() {\r\n    return this._state;\r\n},\r\n\r\ndispatch(action) {   \r\n    switch(action.type) {\r\n        case ADD_POST: \r\n            let post = {\r\n                id: this._state.posts.length,\r\n                text: this._state.newPostText,\r\n                likes: 0\r\n            }\r\n            this._state.posts.push(post);\r\n            break;\r\n        \r\n        case ADD_LIKE: \r\n            this._state.posts[action.id].likes++;\r\n            break\r\n\r\n        case CHANGE_NEW_POST_TEXT: \r\n            this._state.newPostText = action.text;\r\n            break;\r\n\r\n        default: \r\n            break;\r\n    }\r\n    this._notifySubscriber();\r\n}\r\n}\r\n\r\nexport default store;\r\n\r\n\r\nexport const addPostActionCreator = () => {\r\n    return { type: ADD_POST}\r\n}\r\n\r\nexport const addLikeActionCreator = (id) => {\r\n    return { type: ADD_LIKE, id: id}\r\n}\r\n\r\nexport const newPostTextActionCreator = (text) => {\r\n    return { type: CHANGE_NEW_POST_TEXT, text: text}\r\n}"]},"metadata":{},"sourceType":"module"}